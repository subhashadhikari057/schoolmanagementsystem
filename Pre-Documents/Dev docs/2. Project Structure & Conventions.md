---

## ğŸ”§ Guiding Principles

| Principle                                    | Description                                                                                  |
| -------------------------------------------- | -------------------------------------------------------------------------------------------- |
| **ğŸ“¦ Modularity by Contract**                | Every domain module operates as a self-contained boundary governed by interfaces.            |
| **ğŸ” Explicit Boundaries**                   | No direct imports between modules. Use DI (Dependency Injection) and public interfaces only. |
| **ğŸ§ª Testability & Isolation**               | Each module can be developed and tested independently without side effects.                  |
| **â™»ï¸ Composability**                         | Frontend follows Atomic Design principles; Backend follows Domain-Driven Design (DDD).       |
| **ğŸ“š Convention First, Configuration Later** | The structure should guide behavior. Tools enforce discipline, not dev habits.               |

---

## ğŸ§  Backend

```
ğŸ“¦ backend/
â”œâ”€â”€ ğŸ“ src/
â”‚   â”œâ”€â”€ ğŸ“ modules/                    # Domain-Driven Bounded Contexts (no cross-importing)
â”‚   â”‚   â”œâ”€â”€ ğŸ“ auth/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ students/
â”‚   â”‚   â”‚   â”œâ”€â”€ application/          # Business logic orchestration layer (Services, Use Cases)
â”‚   â”‚   â”‚   â”œâ”€â”€ domain/               # Domain entities, aggregates, value objects, interfaces
â”‚   â”‚   â”‚   â”œâ”€â”€ infrastructure/       # Data persistence adapters, API adapters
â”‚   â”‚   â”‚   â”œâ”€â”€ dto/                  # Data Transfer Objects
â”‚   â”‚   â”‚   â””â”€â”€ student.module.ts     # Entry point: declares DI, exports, config
â”‚   â”‚   â”œâ”€â”€ ğŸ“ teacher/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ attendance/
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ shared/                    # Truly reusable utilities or policies (non-domain specific)
â”‚   â”‚   â”œâ”€â”€ ğŸ“ guards/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ middlewares/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ logger/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ config/
â”‚   â”‚
â”‚   â”‚   â””â”€â”€ interfaces/
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ infrastructure/           # Cross-cutting external concerns (DB, Email, FileUpload)
â”‚   â”‚   â”œâ”€â”€ ğŸ“ database/
â”‚   â”‚   â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â”‚   â”œâ”€â”€ mongoose/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ mailer/
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ ğŸ“ common/                   # Global constants, types, decorators
â”‚   â””â”€â”€ main.ts                      # App bootstrap
â”‚
â”œâ”€â”€ ğŸ“ test/
â”‚   â”œâ”€â”€ unit/
â”‚   â””â”€â”€ integration/
â”œâ”€â”€ .env
â”œâ”€â”€ Dockerfile
â””â”€â”€ tsconfig.json
```

### ğŸ”‘ Key Backend Principles

| Area                     | Principle                                                                                         |
| ------------------------ | ------------------------------------------------------------------------------------------------- |
| **Domain**               | Each feature has its own domain language and model â€” strictly encapsulated                        |
| **Application Layer**    | Use cases orchestrate flow between services, repositories, and domain logic                       |
| **Infrastructure**       | Adapters for databases, APIs, emails â€” never referenced directly by domain logic                  |
| **Dependency Injection** | Each module gets only what it needs. Use constructor injection + DI container                     |
| **Validation**           | Zod or Joi for schema validation â€” always in `dto/`, not in controller logic                      |
| **Security**             | RBAC and authentication are in `auth/` and wrapped as guards/middleware â€” never in business logic |

---

## ğŸŒ Frontend (React + TypeScript + Atomic + App Router)

```
ğŸ“¦ frontend/
â”œâ”€â”€ ğŸ“ src/
â”‚   â”œâ”€â”€ ğŸ“ app/                      # Pages and layouts (App Router or React Router)
â”‚   â”‚   â”œâ”€â”€ dashboard/              # Layout for authenticated users
â”‚   â”‚   â”‚   â”œâ”€â”€ student/
â”‚   â”‚   â”‚   â”œâ”€â”€ teacher/
â”‚   â”‚   â”‚   â”œâ”€â”€ parent/
â”‚   â”‚   â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â””â”€â”€ auth/                   # Login, Register, Forgot
â”‚
â”‚   â”œâ”€â”€ ğŸ“ components/              # Atomic Design System
â”‚   â”‚   â”œâ”€â”€ atoms/                 # Buttons, TextField, Tags
â”‚   â”‚   â”œâ”€â”€ molecules/             # InputWithLabel, AvatarWithMenu
â”‚   â”‚   â”œâ”€â”€ organisms/             # Full forms, navbars, layout components
â”‚   â”‚   â””â”€â”€ layout/                # AppShells, PageGrids
â”‚
â”‚   â”œâ”€â”€ ğŸ“ features/               # Feature modules (matches backend domain)
â”‚   â”‚   â”œâ”€â”€ attendance/
â”‚   â”‚   â”œâ”€â”€ complaints/
â”‚   â”‚   â”œâ”€â”€ timetable/
â”‚   â”‚   â”œâ”€â”€ announcements/
â”‚
â”‚   â”œâ”€â”€ ğŸ“ hooks/                  # useAuth, useFetchWithToken, useFormLogic
â”‚   â”œâ”€â”€ ğŸ“ lib/                    # Axios config, classNames, utility helpers
â”‚   â”œâ”€â”€ ğŸ“ store/                  # Zustand or Redux slices, persisted logic
â”‚   â”œâ”€â”€ ğŸ“ constants/              # Roles, Permissions, Enums
â”‚   â”œâ”€â”€ ğŸ“ types/                  # Shared types/interfaces across app
â”‚   â””â”€â”€ ğŸ“ styles/                 # Tailwind configs, global styles, theming
â”‚
â”œâ”€â”€ .env
â”œâ”€â”€ tailwind.config.ts
â”œâ”€â”€ tsconfig.json
â””â”€â”€ next.config.js
```

### ğŸ”‘ Key Frontend Principles

| Principle                          | Implementation                                                              |
| ---------------------------------- | --------------------------------------------------------------------------- |
| **Atomic Design**                  | Prevents over-abstracting. Reuse is done at _composition_ level             |
| **Role-based UI**                  | Routes and layouts are role-scoped. `authContext` governs access at runtime |
| **Domain Separation**              | No feature logic bleeds into `components/` â€” UI and logic are separate      |
| **Global state only if necessary** | Store only cross-cutting state (e.g., auth, user role)                      |
| **Server-State from Source**       | Always use API fetch with cache (SWR/React Query), avoid local duplication  |

---

## ğŸ§¾ Naming Conventions (Universal)

| Item             | Rule                   | Example                           |
| ---------------- | ---------------------- | --------------------------------- |
| Folder names     | `kebab-case`           | `student-module`                  |
| Files            | `kebab-case`           | `student.service.ts`              |
| Classes          | `PascalCase`           | `StudentService`                  |
| Variables        | `camelCase`            | `studentId`, `attendanceCount`    |
| Constants        | `SCREAMING_SNAKE_CASE` | `MAX_ATTENDANCE_LIMIT`            |
| Types/Interfaces | `PascalCase`           | `StudentDTO`, `IAttendanceRecord` |

---

## ğŸ¯ Code Enforcement Stack

| Tool            | Purpose                                       |
| --------------- | --------------------------------------------- |
| ESLint          | Airbnb + Prettier + TypeScript rules          |
| Prettier        | Automatic formatting                          |
| Husky           | Pre-commit hooks for lint/test                |
| Lint-staged     | Partial commit blocking if lint/test fails    |
| Commitlint      | Force semantic commits (`feat:`, `fix:`)      |
| tsconfig strict | Full strict mode, no `any` allowed            |
| dotenv-safe     | Enforces env var presence across environments |

---

## ğŸš« Anti-Patterns to Eliminate

| Bad Practice                           | Better Alternative                             |
| -------------------------------------- | ---------------------------------------------- |
| Direct imports across modules          | Use shared interfaces/contracts                |
| Shared business logic in components    | Move to `features/` or backend                 |
| Large utils folder with random helpers | Keep utilities domain-aware                    |
| Logic in controllers                   | Thin controllers, fat services/use cases       |
| Central global state for everything    | Decentralized local state unless cross-cutting |

---

## ğŸ§© Key Enforcement Techniques

- **Code fencing** with project references or `module boundaries` (e.g., with Nx or turbo-pack)
- **Interface-only communication** between modules â€” never import raw services
- **Dependency Injection containers** (e.g., Inversify, NestJS DI) to decouple components
- **Shared DTOs/Types** must live in a `contracts/` folder or package, and must never contain logic
- **Feature flags** and `RoleGuard` must sit _outside_ core logic â€” injected as policy evaluators

---

## ğŸ”„ Optional Enhancements

| Enhancement                                | Benefit                                                    |
| ------------------------------------------ | ---------------------------------------------------------- |
| **Nx Monorepo (for larger teams)**         | Strong module boundary enforcement, testing, CI splits     |
| **Shared NPM package for types/contracts** | Avoid tight coupling, allow versioning                     |
| **Storybook + Chromatic**                  | UI-driven development, perfect for reusable components     |
| **GraphQL/REST Hybrid**                    | Use REST for mutations, GraphQL for read efficiency        |
| **Role-driven layout shells**              | `RoleShell(student)` auto-loads navbars and allowed routes |

---

## âœ… Summary

This structure reflects a **professional, modular, and future-proof** system aligned with your goals:

- Single-school focus, but multi-role and multi-feature
- Strictly enforced **boundaries** between features
- Complete consistency from API to UI
- Ready for secure scaling and real-world team development

Would you like me to:

1. Create actual file stubs or `README.md` templates for each folder to guide onboarding?
2. Generate a visual architecture diagram showing all modules and their separation?
3. Extend this into a CI/CD and repo structure setup?

Letâ€™s sharpen it further.
