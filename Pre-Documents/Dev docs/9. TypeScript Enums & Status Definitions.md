## üìã **Overview**

This document defines all TypeScript enums that correspond to PostgreSQL ENUM types in our database schemas. These enums ensure type safety across the entire application stack and eliminate status string inconsistencies.

---

## üí∞ **Finance Module Enums**

### Payment Status

```typescript
export enum PaymentStatus {
  PENDING = "pending",
  COMPLETED = "completed",
  FAILED = "failed",
  REFUNDED = "refunded",
}

// PostgreSQL ENUM: finance.payment_status
// Usage: payments.status, invoice_payments.status
```

### Payment Method

```typescript
export enum PaymentMethod {
  CASH = "cash",
  CREDIT_CARD = "credit_card",
  DEBIT_CARD = "debit_card",
  BANK_TRANSFER = "bank_transfer",
  ESEWA = "esewa",
  KHALTI = "khalti",
  FONEPAY = "fonepay",
  CHEQUE = "cheque",
}
```

---

## üïí **Attendance Module Enums**

### Attendance Status

```typescript
export enum AttendanceStatus {
  PRESENT = "present",
  ABSENT = "absent",
  LATE = "late",
  EXCUSED = "excused",
  UNKNOWN = "unknown",
}

// PostgreSQL ENUM: attendance.attendance_status_enum
// Usage: attendance_records.status
```

### Leave Status

```typescript
export enum LeaveStatus {
  PENDING = "pending",
  APPROVED = "approved",
  REJECTED = "rejected",
  CANCELLED = "cancelled",
}

// PostgreSQL ENUM: attendance.leave_status_enum
// Usage: leave_requests.status
```

### Leave Type

```typescript
export enum LeaveType {
  SICK = "sick",
  PERSONAL = "personal",
  VACATION = "vacation",
  EMERGENCY = "emergency",
  MEDICAL = "medical",
  FAMILY = "family",
}

// PostgreSQL ENUM: attendance.leave_type_enum
// Usage: leave_requests.leave_type
```

---

## üó®Ô∏è **Forum Module Enums**

### Moderation Status

```typescript
export enum ModerationStatus {
  PENDING = "pending",
  APPROVED = "approved",
  REJECTED = "rejected",
  ESCALATED = "escalated",
  DISMISSED = "dismissed",
}

// PostgreSQL ENUM: forum.moderation_status_enum
// Usage: moderation_flags.status
```

### Forum Post Status

```typescript
export enum ForumPostStatus {
  ACTIVE = "active",
  HIDDEN = "hidden",
  DELETED = "deleted",
  ARCHIVED = "archived",
}
```

---

## üßæ **Exam Module Enums**

### Exam Status

```typescript
export enum ExamStatus {
  DRAFT = "draft",
  SCHEDULED = "scheduled",
  ACTIVE = "active",
  COMPLETED = "completed",
  CANCELLED = "cancelled",
}

// Usage: exams.status, exam_sessions.status
```

### Result Status

```typescript
export enum ResultStatus {
  PENDING = "pending",
  PUBLISHED = "published",
  UNDER_REVIEW = "under_review",
  FINAL = "final",
}

// Usage: exam_results.status
```

---

## üìö **Academic Module Enums**

### Assignment Status

```typescript
export enum AssignmentStatus {
  DRAFT = "draft",
  PUBLISHED = "published",
  ACTIVE = "active",
  CLOSED = "closed",
  ARCHIVED = "archived",
}

// Usage: assignments.status
```

### Submission Status

```typescript
export enum SubmissionStatus {
  NOT_SUBMITTED = "not_submitted",
  SUBMITTED = "submitted",
  LATE_SUBMISSION = "late_submission",
  GRADED = "graded",
  RETURNED = "returned",
}

// Usage: assignment_submissions.status
```

---

## üí¨ **Communication Module Enums**

### Notice Status

```typescript
export enum NoticeStatus {
  DRAFT = "draft",
  PUBLISHED = "published",
  ARCHIVED = "archived",
  EXPIRED = "expired",
}

// Usage: notices.status
```

### Message Status

```typescript
export enum MessageStatus {
  SENT = "sent",
  DELIVERED = "delivered",
  READ = "read",
  FAILED = "failed",
}

// Usage: messages.status, notifications.status
```

### Complaint Status

```typescript
export enum ComplaintStatus {
  OPEN = "open",
  IN_PROGRESS = "in_progress",
  RESOLVED = "resolved",
  CLOSED = "closed",
  ESCALATED = "escalated",
}

// Usage: complaints.status
```

---

## üë§ **User & Auth Module Enums**

### User Status

```typescript
export enum UserStatus {
  ACTIVE = "active",
  INACTIVE = "inactive",
  SUSPENDED = "suspended",
  PENDING_VERIFICATION = "pending_verification",
}

// Usage: users.status
```

### Session Status

```typescript
export enum SessionStatus {
  ACTIVE = "active",
  EXPIRED = "expired",
  REVOKED = "revoked",
}

// Usage: user_sessions.status
```

---

## üìÅ **Files Module Enums**

### File Status

```typescript
export enum FileStatus {
  UPLOADING = "uploading",
  UPLOADED = "uploaded",
  PROCESSING = "processing",
  READY = "ready",
  FAILED = "failed",
  DELETED = "deleted",
}

// Usage: file_uploads.status
```

### File Type

```typescript
export enum FileType {
  DOCUMENT = "document",
  IMAGE = "image",
  VIDEO = "video",
  AUDIO = "audio",
  ARCHIVE = "archive",
  OTHER = "other",
}

// Usage: file_uploads.file_type
```

---

## üéØ **Platform Module Enums**

### Feature Flag Status

```typescript
export enum FeatureFlagStatus {
  ENABLED = "enabled",
  DISABLED = "disabled",
  TESTING = "testing",
}

// Usage: feature_flags.status
```

### System Status

```typescript
export enum SystemStatus {
  OPERATIONAL = "operational",
  MAINTENANCE = "maintenance",
  DEGRADED = "degraded",
  OUTAGE = "outage",
}
```

---

## üèÜ **Achievements Module Enums**

### Achievement Type

```typescript
export enum AchievementType {
  ACADEMIC = "academic",
  SPORTS = "sports",
  CULTURAL = "cultural",
  LEADERSHIP = "leadership",
  COMMUNITY_SERVICE = "community_service",
  ATTENDANCE = "attendance",
}

// Usage: achievements.type
```

### Certificate Status

```typescript
export enum CertificateStatus {
  PENDING = "pending",
  GENERATED = "generated",
  ISSUED = "issued",
  REVOKED = "revoked",
}

// Usage: certificates.status
```

---

## üîß **Utility Types & Helpers**

### Status Validation Helper

```typescript
export const validateStatus = <T extends Record<string, string>>(
  enumObject: T,
  value: string,
): value is T[keyof T] => {
  return Object.values(enumObject).includes(value as T[keyof T]);
};

// Usage example:
// if (validateStatus(PaymentStatus, inputStatus)) {
//   // inputStatus is now typed as PaymentStatus
// }
```

### Status Transition Maps

```typescript
export const PaymentStatusTransitions: Record<PaymentStatus, PaymentStatus[]> =
  {
    [PaymentStatus.PENDING]: [PaymentStatus.COMPLETED, PaymentStatus.FAILED],
    [PaymentStatus.COMPLETED]: [PaymentStatus.REFUNDED],
    [PaymentStatus.FAILED]: [PaymentStatus.PENDING],
    [PaymentStatus.REFUNDED]: [], // Terminal state
  };

export const LeaveStatusTransitions: Record<LeaveStatus, LeaveStatus[]> = {
  [LeaveStatus.PENDING]: [LeaveStatus.APPROVED, LeaveStatus.REJECTED],
  [LeaveStatus.APPROVED]: [LeaveStatus.CANCELLED],
  [LeaveStatus.REJECTED]: [],
  [LeaveStatus.CANCELLED]: [],
};
```

---

## üìä **API Response Type Definitions**

### Standard Status Response

```typescript
export interface StatusResponse<T = any> {
  success: boolean;
  status: string;
  data?: T;
  message?: string;
  code?: string;
}
```

### Paginated Response with Status

```typescript
export interface PaginatedStatusResponse<T = any> {
  success: boolean;
  status: string;
  data: T[];
  pagination: {
    page: number;
    limit: number;
    total: number;
    hasNext: boolean;
    hasPrev: boolean;
  };
}
```

---

## üîÑ **Migration Support**

### Status Migration Utility

```typescript
export const migrateStatus = <T extends Record<string, string>>(
  oldStatus: string,
  enumObject: T,
  defaultStatus: T[keyof T],
): T[keyof T] => {
  const normalizedStatus = oldStatus.toLowerCase().replace(/[-_\s]/g, "_");

  for (const [key, value] of Object.entries(enumObject)) {
    if (value === normalizedStatus || key.toLowerCase() === normalizedStatus) {
      return value as T[keyof T];
    }
  }

  return defaultStatus;
};
```

---

## üß™ **Testing Utilities**

### Mock Status Generators

```typescript
export const generateMockStatus = <T extends Record<string, string>>(
  enumObject: T,
): T[keyof T] => {
  const values = Object.values(enumObject);
  return values[Math.floor(Math.random() * values.length)] as T[keyof T];
};

// Usage in tests:
// const mockPaymentStatus = generateMockStatus(PaymentStatus);
```

---
